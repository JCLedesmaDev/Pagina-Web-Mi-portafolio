{"ast":null,"code":"import _asyncToGenerator from\"D:\\\\Juanchi\\\\Programacion\\\\Practicas realizadas\\\\01-02-22 React y TypeScript - React-portafolio-pwa\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"D:\\\\Juanchi\\\\Programacion\\\\Practicas realizadas\\\\01-02-22 React y TypeScript - React-portafolio-pwa\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Juanchi\\\\Programacion\\\\Practicas realizadas\\\\01-02-22 React y TypeScript - React-portafolio-pwa\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import parse from\"html-react-parser\";import{useMyData}from\"../../Hooks/useMyData\";import{useForm}from\"react-hook-form\";import SocialsCSS from\"./Socials.module.css\";import FormCSS from\"./Form.module.css\";import PortfolioCSS from\"../Portfolio/Portfolio.module.css\";import{noneElement}from\"../../Utils/noneElement\";import Loader from\"../../Static/Spin-1s-200px.svg\";import{InputForm}from\"./InputForm\";import{TexTarea}from\"./TexTareaForm\";import{axiosMethod}from\"../../Utils/axiosMethod\";import{useLocation}from\"react-use\";import{ModalContainer}from\"../ModalContainer/ModalContainer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Contact=function Contact(){var _contact$modeContact;/// VARIABLES\nvar _useMyData=useMyData(),contact=_useMyData.contact;var formInputs=contact===null||contact===void 0?void 0:contact.formContactInputs;var CssOpenModal=\"\".concat(PortfolioCSS.portfolioModal,\" \").concat(PortfolioCSS.openPortafolioModal);/// HOOKS\nvar location=useLocation().hash;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loaderActive=_useState2[0],setLoaderActive=_useState2[1];/// METODOS\nvar onSubmit=handleSubmit(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dataForm){var _yield$axiosMethod,data,message;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoaderActive(true);_context.next=4;return axiosMethod({method:\"POST\",url:\"https://formsubmit.co/ajax/5e0986ed3ab6208281bd2ec47b0252c1\",data:dataForm});case 4:_yield$axiosMethod=_context.sent;data=_yield$axiosMethod.data;message=_yield$axiosMethod.message;if(!message){_context.next=9;break;}throw new Error(message);case 9:openModal(\"#gracias\");_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);openModal(\"#ups\");case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function(_x){return _ref.apply(this,arguments);};}());var openModal=function openModal(message){setLoaderActive(false);window.location.hash=message;setTimeout(function(){window.location.hash=\"#close\";},3000);document.querySelectorAll(\"form i\").forEach(function(enlace){enlace.classList.remove(\"fa-check-circle\");enlace.classList.remove(\"fa-times-circle\");});reset();};return/*#__PURE__*/_jsx(\"section\",{id:\"contact\",className:\" \".concat(FormCSS.contact,\" section-space\"),\"data-scroll-spy\":true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"centerContainer\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:contact===null||contact===void 0?void 0:contact.interested}),/*#__PURE__*/_jsx(\"article\",{className:\"\".concat(SocialsCSS.contact__cards,\" centerContainer\"),children:contact===null||contact===void 0?void 0:(_contact$modeContact=contact.modeContact)===null||_contact$modeContact===void 0?void 0:_contact$modeContact.map(function(contact,indexContact){return/*#__PURE__*/_jsxs(\"aside\",{className:\"\".concat(SocialsCSS.contact__cardTarget,\" box-shadow\"),children:[/*#__PURE__*/_jsx(\"i\",{className:contact===null||contact===void 0?void 0:contact.icon}),/*#__PURE__*/_jsx(\"h5\",{children:contact===null||contact===void 0?void 0:contact.title}),indexContact!==3?/*#__PURE__*/_jsx(\"small\",{children:parse(contact.links[0])}):/*#__PURE__*/_jsx(\"div\",{children:contact===null||contact===void 0?void 0:contact.links.map(function(link,indexLink){return/*#__PURE__*/_jsx(\"small\",{children:parse(link)},indexLink);})})]},indexContact);})}),/*#__PURE__*/_jsxs(\"form\",{className:\"\".concat(FormCSS.contact__form,\" box-shadow\"),onSubmit:onSubmit,children:[formInputs===null||formInputs===void 0?void 0:formInputs.map(function(inputForm,index){return/*#__PURE__*/_jsxs(\"div\",{id:\"form__\".concat(inputForm.name),children:[inputForm.type!==\"textarea\"?/*#__PURE__*/_jsx(InputForm,{form:inputForm,register:register}):/*#__PURE__*/_jsx(TexTarea,{form:inputForm,register:register}),/*#__PURE__*/_jsx(\"p\",{className:FormCSS.contact_messageError,children:inputForm.messageError})]},index);}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(FormCSS.contact__form__loader,\" text-center \").concat(noneElement(!loaderActive)),children:/*#__PURE__*/_jsx(\"img\",{src:Loader,alt:\"Enviando...\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"form__boton\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"button text-center \",style:{marginTop:\".5rem\"},value:contact===null||contact===void 0?void 0:contact.button})})]}),/*#__PURE__*/_jsx(ModalContainer,{validation:(location===null||location===void 0?void 0:location.includes(\"#gracias\"))||(location===null||location===void 0?void 0:location.includes(\"#ups\")),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"article\",{className:FormCSS.modal__contactForm_response,children:[/*#__PURE__*/_jsxs(\"h3\",{children:[(location===null||location===void 0?void 0:location.includes(\"#gracias\"))&&(contact===null||contact===void 0?void 0:contact.modalContact),(location===null||location===void 0?void 0:location.includes(\"#ups\"))&&(contact===null||contact===void 0?void 0:contact.modalContactError)]}),/*#__PURE__*/_jsx(\"i\",{className:\"far fa-smile-wink\"})]})})})]})});};","map":{"version":3,"sources":["D:/Juanchi/Programacion/Practicas realizadas/01-02-22 React y TypeScript - React-portafolio-pwa/src/Components/Contact/Contact.tsx"],"names":["React","useState","parse","useMyData","useForm","SocialsCSS","FormCSS","PortfolioCSS","noneElement","Loader","InputForm","TexTarea","axiosMethod","useLocation","ModalContainer","Contact","contact","formInputs","formContactInputs","CssOpenModal","portfolioModal","openPortafolioModal","location","hash","register","handleSubmit","reset","loaderActive","setLoaderActive","onSubmit","dataForm","method","url","data","message","Error","openModal","window","setTimeout","document","querySelectorAll","forEach","enlace","classList","remove","interested","contact__cards","modeContact","map","indexContact","contact__cardTarget","icon","title","links","link","indexLink","contact__form","inputForm","index","name","type","contact_messageError","messageError","contact__form__loader","marginTop","button","includes","modal__contactForm_response","modalContact","modalContactError"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport parse from \"html-react-parser\";\r\nimport { useMyData } from \"../../Hooks/useMyData\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport SocialsCSS from \"./Socials.module.css\";\r\nimport FormCSS from \"./Form.module.css\";\r\nimport PortfolioCSS from \"../Portfolio/Portfolio.module.css\";\r\nimport { noneElement } from \"../../Utils/noneElement\";\r\nimport Loader from \"../../Static/Spin-1s-200px.svg\";\r\nimport { InputForm } from \"./InputForm\";\r\nimport { TexTarea } from \"./TexTareaForm\";\r\nimport { axiosMethod } from \"../../Utils/axiosMethod\";\r\nimport { useLocation } from \"react-use\";\r\nimport { ModalContainer } from \"../ModalContainer/ModalContainer\";\r\n\r\nexport const Contact: React.FC = () => {\r\n  /// VARIABLES\r\n  const { contact } = useMyData();\r\n  const formInputs = contact?.formContactInputs;\r\n  const CssOpenModal = `${PortfolioCSS.portfolioModal} ${PortfolioCSS.openPortafolioModal}`;\r\n\r\n  /// HOOKS\r\n  const location = useLocation().hash;\r\n  const { register, handleSubmit, reset } = useForm();\r\n  const [loaderActive, setLoaderActive] = useState(false);\r\n\r\n  /// METODOS\r\n\r\n  const onSubmit = handleSubmit(async (dataForm) => {\r\n    try {\r\n      setLoaderActive(true);\r\n\r\n      const { data, message } = await axiosMethod({\r\n        method: \"POST\",\r\n        url: \"https://formsubmit.co/ajax/5e0986ed3ab6208281bd2ec47b0252c1\",\r\n        data: dataForm,\r\n      });\r\n\r\n      if (message) throw new Error(message);\r\n\r\n      openModal(\"#gracias\");\r\n    } catch (error) {\r\n      openModal(\"#ups\");\r\n    }\r\n  });\r\n\r\n  const openModal = (message: string) => {\r\n    setLoaderActive(false);\r\n    window.location.hash = message;\r\n\r\n    setTimeout(() => {\r\n      window.location.hash = \"#close\";\r\n    }, 3000);\r\n\r\n    document.querySelectorAll(\"form i\").forEach((enlace) => {\r\n      enlace.classList.remove(\"fa-check-circle\");\r\n      enlace.classList.remove(\"fa-times-circle\");\r\n    });\r\n    reset();\r\n  };\r\n\r\n  return (\r\n    <section\r\n      id=\"contact\"\r\n      className={` ${FormCSS.contact} section-space`}\r\n      data-scroll-spy\r\n    >\r\n      <div className=\"centerContainer\">\r\n        <h2 className=\"section-title\">{contact?.interested}</h2>\r\n\r\n        {/* <!-- SOCIALES --> */}\r\n        <article className={`${SocialsCSS.contact__cards} centerContainer`}>\r\n          {contact?.modeContact?.map((contact, indexContact) => (\r\n            <aside\r\n              key={indexContact}\r\n              className={`${SocialsCSS.contact__cardTarget} box-shadow`}\r\n            >\r\n              <i className={contact?.icon} />\r\n              <h5>{contact?.title}</h5>\r\n              {indexContact !== 3 ? (\r\n                <small>{parse(contact.links[0])}</small>\r\n              ) : (\r\n                <div>\r\n                  {contact?.links.map((link, indexLink) => (\r\n                    <small key={indexLink}>{parse(link)}</small>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </aside>\r\n          ))}\r\n        </article>\r\n\r\n        {/* <!-- FORMULARIO --> */}\r\n        <form\r\n          className={`${FormCSS.contact__form} box-shadow`}\r\n          onSubmit={onSubmit}\r\n        >\r\n          {formInputs?.map((inputForm, index) => (\r\n            <div id={`form__${inputForm.name}`} key={index}>\r\n              {inputForm.type !== \"textarea\" ? (\r\n                <InputForm form={inputForm} register={register} />\r\n              ) : (\r\n                <TexTarea form={inputForm} register={register} />\r\n              )}\r\n\r\n              <p className={FormCSS.contact_messageError}>\r\n                {inputForm.messageError}\r\n              </p>\r\n            </div>\r\n          ))}\r\n\r\n          <div\r\n            className={`${\r\n              FormCSS.contact__form__loader\r\n            } text-center ${noneElement(!loaderActive)}`}\r\n          >\r\n            <img src={Loader} alt=\"Enviando...\" />\r\n          </div>\r\n\r\n          <div id=\"form__boton\">\r\n            <input\r\n              type=\"submit\"\r\n              className=\"button text-center \"\r\n              style={{\r\n                marginTop: \".5rem\",\r\n              }}\r\n              value={contact?.button}\r\n            />\r\n          </div>\r\n        </form>\r\n\r\n        {/* <!-- MODAL DEL FORMULARIO --> */}\r\n        <ModalContainer\r\n          validation={\r\n            location?.includes(\"#gracias\") || location?.includes(\"#ups\")\r\n          }\r\n        >\r\n          <div>\r\n            <article className={FormCSS.modal__contactForm_response}>\r\n              <h3>\r\n                {location?.includes(\"#gracias\") && contact?.modalContact}\r\n                {location?.includes(\"#ups\") && contact?.modalContactError}\r\n              </h3>\r\n\r\n              <i className=\"far fa-smile-wink\"></i>\r\n            </article>\r\n          </div>\r\n        </ModalContainer>\r\n\r\n        {/* <ModalContainer validation={true}>\r\n          <h3>asdasw</h3>\r\n        </ModalContainer> */}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}